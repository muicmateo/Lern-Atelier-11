<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:viewModels="clr-namespace:MauiApp1.ViewModels"
             x:DataType="viewModels:MainViewModel"
             x:Class="MauiApp1.MainPage">

    <ScrollView>
        <VerticalStackLayout Spacing="15" Padding="20">
            <Label Text="Gemini AI Prompt" 
                   FontSize="Large" 
                   FontAttributes="Bold" 
                   HorizontalOptions="Center" />

            <Editor Placeholder="Enter your prompt here..."
                    Text="{Binding Prompt}"
                    HeightRequest="150"
                    IsEnabled="{Binding IsBusy, Converter={StaticResource InverseBoolConverter}}"/>

            <Button Text="Ask Gemini"
                    Command="{Binding AskGeminiCommand}"
                    IsEnabled="{Binding IsGeminiEnabled}"
                    SemanticProperties.Hint="Asks Gemini the AI a question"/>

            <ActivityIndicator IsVisible="{Binding IsBusy}"
                               IsRunning="{Binding IsBusy}"
                               Color="Blue" />

            <Label Text="Response:" 
                   FontSize="Medium" 
                   FontAttributes="Bold"
                   IsVisible="{Binding Response, Converter={StaticResource IsStringNotNullOrEmptyConverter}}" />

            <Frame BackgroundColor="LightGray" 
                   Padding="10"
                   IsVisible="{Binding Response, Converter={StaticResource IsStringNotNullOrEmptyConverter}}">
                <Label Text="{Binding Response}"
                       FontSize="Small"
                       LineBreakMode="WordWrap" />
            </Frame>
        </VerticalStackLayout>  
    </ScrollView>

</ContentPage>
